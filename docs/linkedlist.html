<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Linked List Visualizer</title>
  <link rel="icon" href="assets/icon.png">
  <link rel="stylesheet" href="linkedlist.css" />
</head>
<body>
  <header class="top">
    <a class="back-btn" href="index.html">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
        <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Menu
    </a>
    <h1>Linked List Visualizer</h1>
    <div class="status-badge">
      <span class="status-dot" id="statusDot"></span>
      <span id="wasmStatus">Initializing...</span>
    </div>
  </header>

  <main class="container">
    <section class="controls" aria-label="controls">
      <div class="input-group">
        <label for="valueInput">Value</label>
        <input id="valueInput" type="number" placeholder="Enter integer" />
      </div>
      
      <div class="button-group">
        <button id="btnPushFront" class="btn btn-primary" title="Add to front">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M8 3V13M3 8H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          Push Front
        </button>
        <button id="btnPushBack" class="btn btn-primary" title="Add to back">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M8 3V13M3 8H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          Push Back
        </button>
      </div>

      <div class="button-group">
        <button id="btnPopFront" class="btn btn-secondary" title="Remove from front">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M3 8H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          Pop Front
        </button>
        <button id="btnPopBack" class="btn btn-secondary" title="Remove from back">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M3 8H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          Pop Back
        </button>
      </div>

      <button id="btnReset" class="btn btn-danger" title="Clear list">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
          <path d="M13.5 5.5L12.5 13.5C12.4 14.3 11.7 15 10.9 15H5.1C4.3 15 3.6 14.3 3.5 13.5L2.5 5.5M6 7V12M10 7V12M11 5V2.5C11 1.7 10.3 1 9.5 1H6.5C5.7 1 5 1.7 5 2.5V5M1 5H15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        Reset
      </button>
    </section>

    <section class="visual">
      <div class="canvas-container">
        <canvas id="canvas" width="1000" height="280"></canvas>
        <div id="emptyState" class="empty-state">
          <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
            <circle cx="32" cy="32" r="30" stroke="#ddd" stroke-width="2" stroke-dasharray="4 4"/>
            <text x="32" y="38" text-anchor="middle" fill="#999" font-size="12">Empty List</text>
          </svg>
          <p>Add nodes to visualize the linked list</p>
        </div>
      </div>
      <div id="nodeList" class="node-list" aria-live="polite"></div>
      <div id="notification" class="notification"></div>
    </section>

    <section class="info-panel">
      <div class="info-card">
        <h3>Operations</h3>
        <ul>
          <li><strong>Push Front:</strong> O(1) - Add node at head</li>
          <li><strong>Push Back:</strong> O(1) - Add node at tail</li>
          <li><strong>Pop Front:</strong> O(1) - Remove head node</li>
          <li><strong>Pop Back:</strong> O(1) - Remove tail node</li>
        </ul>
      </div>
      <div class="info-card">
        <h3>List Info</h3>
        <div class="stats">
          <div class="stat">
            <span class="stat-label">Nodes:</span>
            <span class="stat-value" id="nodeCount">0</span>
          </div>
          <div class="stat">
            <span class="stat-label">Head:</span>
            <span class="stat-value" id="headValue">—</span>
          </div>
          <div class="stat">
            <span class="stat-label">Tail:</span>
            <span class="stat-value" id="tailValue">—</span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script src="../web/wasm/ds.js"></script> 
  <script src="linkedlist.js" type="module"></script>
</body>
</html>